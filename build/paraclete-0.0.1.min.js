/*! paraclete v0.0.1 | build 20131110061134 | license: MIT | https://github.com/makepanic/paraclete */
!function(a,b){"use strict";"object"==typeof exports&&module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Paraclete=b()}("object"==typeof window&&window||this,function(){var a={v:"0.0.1",_id:0,getId:function(){"use strict";return a._id+=1,a._id}};return function(a){var b,c,d;b=!1,d=/xyz/.test(function(){})?/\b_super\b/:/.*/,c=function(){},c.extend=function(a){function c(){!b&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;b=!0;var f=new this;b=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof e[g]&&d.test(a[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,a[g]):a[g];return c.prototype=f,c.prototype.constructor=c,c.extend=arguments.callee,c},a.Class=c}(a),function(a){"use strict";var b,c,d;b=function(c,d){var e,f,g=d.split(".");return g.length&&(e=g[0],g=g.slice(1),void 0!==c[e]&&(f=g.length>=1?b(c[e],g.join(".")):a.Type.is("function",c[e])?c[e]():c[e])),f},d=function(a,b,c,d){var e,f,g=[];if(a._meta&&a._meta.observations[b])for(f=a._meta.observations[b],e=0;e<f.length;e+=1)g.push(function(b,c,d,e){return function(){b[c].fn.apply(a,[d,e])}}(f,e,d,c));return g},c=function(b,e,f,g,h,i,j){var k,l,m,n,o;if(j||(j=[]),g||(g=e),h||(h=b),o=h instanceof a.Observable,i||(i=[],o&&(j=j.concat(d(h,"",f,e)))),k=e.split("."),k.length)if(l=k[0],i.push(l),k=k.slice(1),k.length>0)o&&(j=j.concat(d(h,i.join("."),f,k.join(".")))),m=c(b[l],k.join("."),f,g,h,i,j);else if(o&&(j=j.concat(d(h,g,f,""))),m=b[l]=f,o)for(n=0;n<j.length;n+=1)j[n]();return m},a.Traverse={getP:b,setP:c}}(a),function(a){"use strict";var b,c;c=function(a){return Object.prototype.toString.call(a)},b={none:function(a){return"undefined"==typeof a||null===a},array:function(a){return"[object Array]"===c(a)},"function":function(a){return"[object Function]"===c(a)},number:function(a){return!isNaN(a)&&"[object Number]"===c(a)},string:function(a){return"[object String]"===c(a)},object:function(a){return"[object Object]"===c(a)},"boolean":function(a){return"[object Boolean]"===c(a)}},a.Type={is:function(a,c){var d;return b.hasOwnProperty(a)&&(d=b[a](c)),d},find:function(a){var c,d,e="";for(d in b)if(b.hasOwnProperty(d)&&(c=b[d](a))){e=d;break}return e}}}(a),function(a){"use strict";a.RootObject=a.Class.extend({init:function(a){if(a){var b;for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}},get:function(b){return a.Traverse.getP(this,b)},set:function(b,c){return a.Traverse.setP(this,b,c)}})}(a),function(a){"use strict";a.Observable=a.RootObject.extend({_meta:{observations:{}},observe:function(b,c){var d,e,f=[];if(a.Type.is("array",b)){for(e=0;e<b.length;e+=1)f.push(this.observe(b[e],c));return f}return d=a.getId(),a.Type.is("function",b)&&(c=b,b=""),void 0===this._meta.observations[b]&&(this._meta.observations[b]=[]),this._meta.observations[b].push({id:d,fn:c}),d},ignore:function(b){var c,d,e,f,g,h=!1,i=!1;if(!b)return this._meta.observations={},!0;if(a.Type.is("array",b)){for(f=0;f<b.length;f+=1)i=!1,i=this.ignore(b[f]),h=h&&i;return h}for(d in this._meta.observations)if(this._meta.observations.hasOwnProperty(d))for(c=this._meta.observations[d],e=0;e<c.length;e+=1)if(g=c[e],g.id===b)return this._meta.observations[d].splice(e,1),h=!0;return h}})}(a),function(a){"use strict";a.Registry=a.Class.extend({_store:{},add:function(b,c){var d;return a.Type.is("none",b)||(this._store[b]=c,d=c),d},find:function(b){var c;return a.Type.is("none",b)||(c=this._store[b]),c},remove:function(b){var c;return a.Type.is("none",b)||(c=this._store[b],delete this._store[b]),c}})}(a),function(a){"use strict";a.ArrayRegistry=a.Class.extend({_store:{},add:function(b,c){var d;return a.Type.is("none",b)||(this._store.hasOwnProperty(b)&&(this._store[b]=[]),d=a.getId(),this._store[b].push({val:c,id:d})),d},find:function(b){var c,d;if(a.Type.is("none",b)){c=[];for(d in this._store)this._store.hasOwnProperty(d)&&(c=c.concat(this._store[d]))}else this._store.hasOwnProperty(b)?c=this._store[b]:console.warn("[Paraclete.ArrayRegistry:find] key not found"+b);return c}})}(a),function(a){"use strict";a.KeyRegistry=a.Registry.extend({key:"",init:function(a){this.key=a.key},add:function(b){var c;return a.Type.is("none",b[this.key])||(c=this._super(b[this.key],b)),c},find:function(b){var c;return a.Type.is("none",b[this.key])||(c=this._super(b[this.key])),c},remove:function(b){var c;return a.Type.is("none",b[this.key])||(c=b,this._super(b[this.key])),c}})}(a),function(a){"use strict";a.TriggerAble=a.Class.extend({events:new a.ArrayRegistry({key:"eventType"}),hasTrigger:function(a){return this.events.hasOwnProperty(a)},on:function(a,b){return this.events.add("type",b)},off:function(a){return this.events.remove(a)},trigger:function(b,c){var d,e,f;if(d=this.events.find(b),!a.Type.is("none",d))for(f=0;f<d.length;f+=1)e=d[f],a.Type.is("function",e)&&e(c);return d}})}(a),function(a){"use strict";var b="NO_SCOPE_GIVEN";a.Validator={fieldsEmpty:function(a){return function(b){for(var c=0;c<a.length;c++)if(!b.hasOwnProperty(a[c].name)||!b[a[c].name].length)return a[c].callbackType}}},a.Validation=function(){this.callbacks={},this.scopedRules={},this.rules=[]},a.Validation.prototype={validate:function(a,c){var d,e=!1,f=[];for(f=this.rules.hasOwnProperty(c)?this.rules[c]:this.rules[b],d=0;d<f.length;d+=1){var g=this.trigger(f[d](a));e=!(!e&&!g)}return!e},trigger:function(a){var b,c,d=!1;if(this.callbacks.hasOwnProperty(a))for(c=this.callbacks[a],d=!0,b=0;b<c.length;b+=1)c[b].fn();return d},addRule:function(c,d){var e,f;a.Type.is("function",c)?(e=c,f=b):(e=d,f=c),this.rules.hasOwnProperty(f)||(this.rules[f]=[]),this.rules[f].push(e)},on:function(b,c){var d;return d=a.getId(),this.callbacks[b]||(this.callbacks[b]=[]),this.callbacks[b].push({fn:c,id:d}),d},off:function(a){var b,c;for(b in this.callbacks)if(this.callbacks.hasOwnProperty(b))for(c=0;c<b.length;c+=1)this.callbacks[b][c].id===a&&this.callbacks[b].splice(c,1)}}}(a),function(a){"use strict";a.Object=a.Observable.extend({inc:function(b,c){var d,e,f=1;return a.Type.is("number",c)&&(f=c),d=this.get(b),a.Type.is("number",d)&&(e=this.set(b,d+f)),e},dec:function(b,c){var d,e,f=1;return a.Type.is("number",c)&&(f=c),d=this.get(b),a.Type.is("number",d)&&(e=this.set(b,d-f)),e},toggle:function(b){var c=this.get(b);return a.Type.is("boolean",c)&&(c=this.set(b,!c)),c}})}(a),a});